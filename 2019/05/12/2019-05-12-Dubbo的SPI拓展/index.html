<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Java åç«¯">
    <meta name="description" content="å°æ©˜å­ğŸŠçš„ä¸ªäººä¸»é¡µï¼Œæ¬¢è¿è®¿é—®~~">
    <meta name="author" content="å°æ©˜å­ğŸŠ">
    
    <title>
        
            DubboåŸºäºExtensionLoaderå®ç°çš„SPIæ‹“å±• |
        
        AprilYoLies
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="https://img.aprilyolies.top/img/typora/avatar.jpg">
    
<link rel="stylesheet" href="/css/font-awesome.min.css">

    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"aprilyolies.top","root":"/","language":"zh-CN","path":"search.json"};
    KEEP.theme_config = {"toc":{"enable":true,"number":false,"expand_all":false,"init_open":false},"style":{"primary_color":"#0066CC","avatar":"https://img.aprilyolies.top/img/typora/avatar.jpg","favicon":"https://img.aprilyolies.top/img/typora/avatar.jpg","article_img_align":"left","left_side_width":"260px","content_max_width":"920px","hover":{"shadow":true,"scale":true},"first_screen":{"enable":true,"background_img":"/images/bg.svg","description":"å¹²ç‡¥çš„ç©ºæ°”ï¼Œå°˜åŸƒçš„å‘³é“ï¼Œæˆ‘åœ¨å…¶ä¸­â€¦è¸ä¸Šæ—…é€”ï¼"},"scroll":{"progress_bar":{"enable":false},"percent":{"enable":false}}},"local_search":{"enable":true,"preload":false},"code_copy":{"enable":true,"style":"mac"},"pjax":{"enable":false},"lazyload":{"enable":false},"version":"3.4.5"};
    KEEP.language_ago = {"second":"%s ç§’å‰","minute":"%s åˆ†é’Ÿå‰","hour":"%s å°æ—¶å‰","day":"%s å¤©å‰","week":"%s å‘¨å‰","month":"%s ä¸ªæœˆå‰","year":"%s å¹´å‰"};
  </script>
<meta name="generator" content="Hexo 6.1.0"></head>


<body>
<div class="progress-bar-container">
    

    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            <header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
                <a class="logo-image" href="/">
                    <img src="https://img.aprilyolies.top/img/typora/avatar.jpg">
                </a>
            
            <a class="logo-title" href="/">
                AprilYoLies
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                é¦–é¡µ
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                å½’æ¡£
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/categories"
                            >
                                åˆ†ç±»
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/tags"
                            >
                                æ ‡ç­¾
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/about"
                            >
                                å…³äº
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">é¦–é¡µ</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">å½’æ¡£</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/categories">åˆ†ç±»</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/tags">æ ‡ç­¾</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/about">å…³äº</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="article-content-container">

        <div class="article-title">
            <span class="title-hover-animation">DubboåŸºäºExtensionLoaderå®ç°çš„SPIæ‹“å±•</span>
        </div>

        
            <div class="article-header">
                <div class="avatar">
                    <img src="https://img.aprilyolies.top/img/typora/avatar.jpg">
                </div>
                <div class="info">
                    <div class="author">
                        <span class="name">å°æ©˜å­ğŸŠ</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fas fa-edit"></i>&nbsp;
        <span class="pc">2019-05-12 16:55:58</span>
        <span class="mobile">2019-05-12 16:55</span>
    </span>
    
        <span class="article-categories article-meta-item">
            <i class="fas fa-folder"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/categories/%E5%90%8E%E5%8F%B0%E5%BC%80%E5%8F%91/">åå°å¼€å‘</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/Dubbo/">Dubbo</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
    
    
</div>

                    </div>
                </div>
            </div>
        

        <div class="article-content markdown-body">
            <blockquote>
<p>æœ¬æ–‡å†…å®¹è½¬è½½è‡ª <a class="link"   target="_blank" rel="noopener" href="https://my.oschina.net/bieber/blog/418949" >ä»ExtensionLoaderçœ‹Dubboæ’ä»¶åŒ–<i class="fas fa-external-link-alt"></i></a></p>
</blockquote>
<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ€è¿‘åœ¨çœ‹ Dubbo çš„æºç ï¼Œå› ä¸º Dubbo é›†æˆäº† Spring æ¡†æ¶ï¼Œæ ¹æ® Dubbo çš„ XML é…ç½®æ–¹å¼ï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥æ˜¯é€šè¿‡æ³¨è§£çš„æ–¹å¼ï¼‰ï¼Œä¸éš¾æƒ³åˆ°åº”è¯¥ä» Dubbo å¯¹åº”çš„ NamespaceHandler ä½œä¸ºåˆ†æçš„å‡ºå‘ç‚¹ã€‚</p>
<p>å› ä¸º DubboNamespaceHandler ç»§æ‰¿äº† NamespaceHandlerSupport æŠ½è±¡ç±»ï¼Œæ‰€ä»¥åœ¨ DubboNamespaceHandler ä¸­éœ€è¦å®ç° init() æ–¹æ³•çš„é€»è¾‘ï¼Œä¸»è¦å°±æ˜¯å‘ Spring å®¹å™¨ä¸­æ³¨å†Œç›¸å…³æ ‡ç­¾çš„è§£æå™¨ï¼Œè¿™æ ·åœ¨é‡ä¸Šå¯¹åº”æ ‡ç­¾åï¼Œå°†ä¼šè°ƒç”¨åŒ¹é…çš„è§£æå™¨æ¥ç”Ÿæˆå¯¹åº”çš„ beanï¼Œç›¸å…³çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DubboNamespaceHandler</span> <span class="keyword">extends</span> <span class="title class_">NamespaceHandlerSupport</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">static</span> &#123;</span><br><span class="line">		Version.checkDuplicate(DubboNamespaceHandler.class);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> &#123;</span><br><span class="line">	    registerBeanDefinitionParser(<span class="string">&quot;application&quot;</span>, <span class="keyword">new</span> <span class="title class_">DubboBeanDefinitionParser</span>(ApplicationConfig.class, <span class="literal">true</span>));</span><br><span class="line">        registerBeanDefinitionParser(<span class="string">&quot;module&quot;</span>, <span class="keyword">new</span> <span class="title class_">DubboBeanDefinitionParser</span>(ModuleConfig.class, <span class="literal">true</span>));</span><br><span class="line">        registerBeanDefinitionParser(<span class="string">&quot;registry&quot;</span>, <span class="keyword">new</span> <span class="title class_">DubboBeanDefinitionParser</span>(RegistryConfig.class, <span class="literal">true</span>));</span><br><span class="line">        registerBeanDefinitionParser(<span class="string">&quot;monitor&quot;</span>, <span class="keyword">new</span> <span class="title class_">DubboBeanDefinitionParser</span>(MonitorConfig.class, <span class="literal">true</span>));</span><br><span class="line">        registerBeanDefinitionParser(<span class="string">&quot;provider&quot;</span>, <span class="keyword">new</span> <span class="title class_">DubboBeanDefinitionParser</span>(ProviderConfig.class, <span class="literal">true</span>));</span><br><span class="line">        registerBeanDefinitionParser(<span class="string">&quot;consumer&quot;</span>, <span class="keyword">new</span> <span class="title class_">DubboBeanDefinitionParser</span>(ConsumerConfig.class, <span class="literal">true</span>));</span><br><span class="line">        registerBeanDefinitionParser(<span class="string">&quot;protocol&quot;</span>, <span class="keyword">new</span> <span class="title class_">DubboBeanDefinitionParser</span>(ProtocolConfig.class, <span class="literal">true</span>));</span><br><span class="line">        registerBeanDefinitionParser(<span class="string">&quot;service&quot;</span>, <span class="keyword">new</span> <span class="title class_">DubboBeanDefinitionParser</span>(ServiceBean.class, <span class="literal">true</span>));</span><br><span class="line">        registerBeanDefinitionParser(<span class="string">&quot;reference&quot;</span>, <span class="keyword">new</span> <span class="title class_">DubboBeanDefinitionParser</span>(ReferenceBean.class, <span class="literal">false</span>));</span><br><span class="line">        registerBeanDefinitionParser(<span class="string">&quot;annotation&quot;</span>, <span class="keyword">new</span> <span class="title class_">DubboBeanDefinitionParser</span>(AnnotationBean.class, <span class="literal">true</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæˆ‘æœ€å…³æ³¨çš„å°±æ˜¯ service æ ‡ç­¾æ‰€å¯¹åº”çš„ ServiceBeanï¼Œå®ƒå®ç°äº†ä¼—å¤šçš„ Spring åŠŸèƒ½æ€§æ¥å£ï¼ŒSpring å®¹å™¨ä¼šåœ¨ç‰¹æ®Šçš„æ—¶åˆ»è°ƒç”¨ç›¸åº”çš„æ–¹æ³•ï¼Œè€Œ dubbo çš„æœåŠ¡å‘å¸ƒï¼Œå°±æ˜¯åœ¨ <code>com.alibaba.dubbo.config.spring.ServiceBean#onApplicationEvent</code> æ–¹æ³•ä¸­å®Œæˆçš„ï¼Œå…·ä½“çš„è¿‡ç¨‹æ¯”è¾ƒå¤æ‚ï¼Œå…¶ä¸­æ¶‰åŠåˆ°äº†ä¸€ä¸ª ExtensionLoader ç±»ï¼Œå®ç°çš„åŠŸèƒ½æ¯”è¾ƒå¤šï¼Œä½¿å¾—è‡ªå·±æºç åˆ†æçš„è¿‡ç¨‹æ¯”è¾ƒæ™•ï¼Œé‚å» google äº†ä¸€ä¸‹è¿™ä¸ªç±»çš„ä½œç”¨ï¼Œç¡®å®æ‰¾åˆ°äº†ä¸€ç¯‡æ¯”è¾ƒå¥½çš„æ–‡ç« ï¼Œæ‰€ä»¥è¿™é‡Œå°†å…¶è½¬è½½ä¸‹æ¥ï¼Œæ–¹ä¾¿ä»¥åå›é¡¾æŸ¥çœ‹ã€‚</p>
<h2 id="SPI-ä¸-Dubbo"><a href="#SPI-ä¸-Dubbo" class="headerlink" title="SPI ä¸ Dubbo"></a>SPI ä¸ Dubbo</h2><p>äº†è§£ SPI çš„äººçŸ¥é“ï¼Œå®ƒåªæ˜¯æä¾›ä¸€ç§åè®®ï¼Œå¹¶æ²¡æœ‰æä¾›ç›¸å…³æ’ä»¶åŒ–å®æ–½çš„æ¥å£ï¼Œä¸åƒ OSGI é‚£æ ·æœ‰ä¸€æˆå¥—å®æ–½æ’ä»¶åŒ– APIã€‚å®ƒåªæ˜¯è§„å®šåœ¨ META-INF ç›®å½•ä¸‹æä¾›æ¥å£çš„å®ç°æè¿°æ–‡ä»¶ï¼Œæ¡†æ¶æœ¬èº«å®šä¹‰æ¥å£ã€è§„èŒƒï¼Œç¬¬ä¸‰æ–¹åªéœ€è¦å°†è‡ªå·±çš„å®ç°åœ¨ META-INF ä¸‹æè¿°æ¸…æ¥šï¼Œé‚£ä¹ˆæ¡†æ¶å°±ä¼šè‡ªåŠ¨åŠ è½½ä½ çš„å®ç°ï¼Œè‡³äºæ€ä¹ˆåŠ è½½ï¼ŒJDK å¹¶æ²¡æœ‰æä¾›ç›¸å…³ APIï¼Œè€Œæ˜¯æ¡†æ¶è®¾è®¡è€…éœ€è¦è€ƒè™‘å’Œå®ç°çš„,å¹¶ä¸”åœ¨ META-INF ç›®å½•ä¸‹é¢å¯¹è§„åˆ™çš„æè¿°ï¼Œä¹Ÿæ˜¯éœ€è¦æ¡†æ¶è®¾è®¡è€…æ¥è§„å®šã€‚æ¯”å¦‚ Dubbo çš„è§„åˆ™æ˜¯åœ¨ META-INF&#x2F;dubboã€META-INF&#x2F;dubbo&#x2F;internal æˆ–è€… META-INF&#x2F;services ä¸‹é¢ä»¥éœ€è¦å®ç°çš„æ¥å£çš„å…¨é™å®šåå»åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå¹¶ä¸”åœ¨æ–‡ä»¶ä¸­ä»¥é”®å€¼å¯¹çš„æ–¹å¼æ¥è§„å®šå®ç°ç±»å’Œåˆ«åçš„å…³ç³»ã€‚ä¸‹å›¾ä¾¿æ˜¯ Dubbo çš„ META-INF ç›®å½•çš„è¯¦ç»†è§„åˆ™ã€‚ </p>
<div style="text-align:center;"><img src="https://image.aprilyolies.top/static/images/common/d149eb8ac4c66cc0d02d31c58f347e2f.jpg" width=600 /></div>

<p>è¿™é‡Œç®€å•çš„ä»‹ç»ä¸€ä¸‹ Dubbo çš„æ’ä»¶å®ç°æ–¹å¼å’Œè§„åˆ™ï¼Œä»¥åŠæåˆ° SPI æ˜¯ä¸€ç§æ’ä»¶åŒ–çš„è§„èŒƒï¼Œå¹¶æ²¡æœ‰æä¾›å®æ–½çš„ APIï¼Œæ˜¯éœ€è¦æ¡†æ¶è‡ªå·±å»å®ç°çš„ã€‚Dubbo å¯¹è¿™ä¸€å—çš„å®ç°å…¨éƒ¨éƒ½é›†ä¸­åœ¨ç±» ExtensionLoader ä¸­ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥å°†å›´ç»•è¿™ä¸ªç±»æ¥ä»‹ç» Dubbo æ’ä»¶åŒ–çš„å®ç°ï¼Œåœ¨ä»‹ç» Dubbo æ’ä»¶åŒ–å®æ–½ä¹‹å‰ï¼Œéœ€è¦çŸ¥é“ Dubbo æ¡†æ¶æ˜¯ä»¥ URL ä¸ºæ€»çº¿çš„æ¨¡å¼ï¼Œå³è¿è¡Œè¿‡ç¨‹ä¸­æ‰€æœ‰çš„çŠ¶æ€æ•°æ®ä¿¡æ¯éƒ½å¯ä»¥é€šè¿‡ URL æ¥è·å–ï¼Œæ¯”å¦‚å½“å‰ç³»ç»Ÿé‡‡ç”¨ä»€ä¹ˆåºåˆ—åŒ–ï¼Œé‡‡ç”¨ä»€ä¹ˆé€šä¿¡ï¼Œé‡‡ç”¨ä»€ä¹ˆè´Ÿè½½å‡è¡¡ç­‰ä¿¡æ¯ï¼Œéƒ½æ˜¯é€šè¿‡ URL çš„å‚æ•°æ¥å‘ˆç°çš„ï¼Œæ‰€ä»¥åœ¨æ¡†æ¶è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œè¿è¡Œåˆ°æŸä¸ªé˜¶æ®µéœ€è¦ç›¸åº”çš„æ•°æ®ï¼Œéƒ½å¯ä»¥é€šè¿‡å¯¹åº”çš„ Key ä»URLçš„å‚æ•°åˆ—è¡¨ä¸­è·å–ã€‚</p>
<h2 id="ExtensionLoader-çš„-activate-æ¨¡å—"><a href="#ExtensionLoader-çš„-activate-æ¨¡å—" class="headerlink" title="ExtensionLoader çš„ activate æ¨¡å—"></a>ExtensionLoader çš„ activate æ¨¡å—</h2><p>ExtensionLoader æ˜¯ä¸€ä¸ªå•ä¾‹å·¥å‚ç±»ï¼Œå®ƒå¯¹å¤–æš´éœ² getExtensionLoader é™æ€æ–¹æ³•è¿”å›ä¸€ä¸ªExtensionLoader å®ä½“ï¼Œè¿™ä¸ªæ–¹æ³•çš„å…¥å‚æ˜¯ä¸€ä¸ª Class ç±»å‹ï¼Œè¿™ä¸ªæ–¹æ³•çš„æ„æ€æ˜¯è¿”å›æŸä¸ªæ¥å£çš„ ExtensionLoaderã€‚é‚£ä¹ˆå¯¹äºæŸä¸€ä¸ªæ¥å£ï¼Œåªä¼šæœ‰ä¸€ä¸ª ExtensionLoader å®ä½“ã€‚ExtensionLoader å®ä½“å¯¹å¤–æš´éœ²äº†ä¸‹å›¾ä¸­çš„ä¸€äº›æ¥å£æ¥è·å–æ‰©å±•å®ç°ã€‚</p>
<div style="text-align:center;"><img src="https://image.aprilyolies.top/static/images/common/ea3cf01bb9df9937deee1c88da09274d.jpg" width=400 /></div>

<p>ä¸Šå›¾çš„æ–¹æ³•å½’ä¸ºå‡ ç±»ï¼Œåˆ†åˆ«æ˜¯ activate extensionã€adaptive extensionã€default extensionã€get extension by name ä»¥åŠ supported extensionã€‚activate extension éƒ½éœ€è¦ä¼ å…¥ url å‚æ•°ï¼Œè¿™é‡Œæ¶‰åŠåˆ° Activate æ³¨è§£ï¼Œè¿™ä¸ªæ³¨è§£ä¸»è¦ç”¨å¤„æ˜¯æ ‡æ³¨åœ¨æ’ä»¶æ¥å£å®ç°ç±»ä¸Šï¼Œç”¨æ¥é…ç½®è¯¥æ‰©å±•å®ç°ç±»æ¿€æ´»æ¡ä»¶ã€‚åœ¨ Dubbo æ¡†æ¶é‡Œé¢çš„ Filter æ¥å£çš„å„ç§å®ç°ç±»éƒ½é€šè¿‡ Activate æ ‡æ³¨ï¼Œç”¨æ¥æè¿°è¯¥ Filter ä»€ä¹ˆæ—¶å€™ç”Ÿæ•ˆã€‚æ¯”å¦‚ MonitorFilter é€šè¿‡ Activate æ ‡æ³¨ç”¨æ¥å‘Šè¯‰ Dubbo æ¡†æ¶è¿™ä¸ª Filter æ˜¯åœ¨æœåŠ¡æä¾›ç«¯å’Œæ¶ˆè´¹ç«¯ä¼šç”Ÿæ•ˆçš„ï¼›è€Œ TimeoutFilter åˆ™æ˜¯åªåœ¨æœåŠ¡æä¾›ç«¯ç”Ÿæ•ˆï¼Œæ¶ˆè´¹ç«¯æ˜¯ä¸ä¼šè°ƒç”¨è¯¥ Filterï¼› ValidationFilter è¦æ¿€æ´»çš„æ¡ä»¶é™¤äº†åœ¨æ¶ˆè´¹ç«¯å’ŒæœåŠ¡æä¾›ç«¯æ¿€æ´»ï¼Œå®ƒè¿˜é…ç½®äº† valueï¼Œè¿™ä¸ªè¡¨è¿°å¦ä¸€ä¸ªæ¿€æ´»æ¡ä»¶ï¼Œä¸Šé¢ä»‹ç»è¦è·å– activate extension éƒ½éœ€è¦ä¼ å…¥URLå¯¹è±¡ï¼Œé‚£ä¹ˆè¿™ä¸ª value é…ç½®çš„å€¼åˆ™è¡¨è¿°URLå¿…é¡»æœ‰æŒ‡å®šçš„å‚æ•°æ‰å¯ä»¥æ¿€æ´»è¿™ä¸ªæ‰©å±•ã€‚ä¾‹å¦‚ ValidationFilter åˆ™è¡¨ç¤ºURLä¸­å¿…é¡»åŒ…å«å‚æ•° validation(Constants.VALIDATION_KEY å¸¸é‡çš„å€¼å°±æ˜¯ validation)ï¼Œå¦åˆ™æ¶ˆè´¹ç«¯å’ŒæœåŠ¡ç«¯éƒ½ä¸ä¼šæ¿€æ´»è¿™ä¸ªæ‰©å±•å®ç°ï¼Œä»”ç»†çš„åŒå­¦è¿˜ä¼šå‘ç°åœ¨ ValidationFilter ä¸­çš„ Activate æ³¨è§£è¿˜æœ‰ä¸€ä¸ªå‚æ•° orderï¼Œè¿™æ˜¯è¡¨ç¤ºä¸€ç§æ’åºè§„åˆ™ã€‚å› ä¸ºä¸€ä¸ªæ¥å£çš„å®ç°æœ‰å¤šç§ï¼Œè¿”å›çš„ç»“æœæ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œå¦‚æœä¸æŒ‡å®šæ’åºè§„åˆ™ï¼Œé‚£ä¹ˆå¯èƒ½åˆ—è¡¨çš„æ’åºä¸å¯æ§ï¼Œä¸ºäº†è¾¾åˆ°æ’åºå¯æ§ï¼Œæ·»åŠ äº† order å±æ€§ç”¨æ¥æ§åˆ¶æ’åºï¼Œå…¶ä¸­ order çš„å€¼è¶Šå¤§ï¼Œé‚£ä¹ˆè¯¥æ‰©å±•å®ç°æ’åºå°±è¶Šé å‰ã€‚é™¤äº†é€šè¿‡ order æ¥æ§åˆ¶æ’åºï¼Œè¿˜æœ‰ before å’Œ after æ¥é…ç½®å½“å‰æ‰©å±•çš„ä½ç½®ï¼Œbefore å’Œ after é…ç½®çš„å€¼æ˜¯æ‰©å±•çš„åˆ«åã€‚ä¸‹è¾¹æ˜¯ç®€åŒ–çš„æ¥å£ä¿¡æ¯ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Activate(group = &#123;Constants.PROVIDER, Constants.CONSUMER&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MonitorFilter</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;â€¦â€¦&#125;</span><br><span class="line"><span class="meta">@Activate(group = Constants.PROVIDER)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TimeoutFilter</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;â€¦â€¦&#125;</span><br><span class="line"><span class="meta">@Activate(group = &#123; Constants.CONSUMER, Constants.PROVIDER &#125;, value = Constants.VALIDATION_KEY, order = 10000)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ValidationFilter</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;â€¦â€¦&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢åŸºæœ¬å¯¹ activate ä»‹ç»çš„å·®ä¸å¤šäº†ï¼Œåœ¨ Dubbo æ¡†æ¶ä¸­å¯¹è¿™ä¸ªç”¨çš„æœ€å¤šçš„å°±æ˜¯ Filter çš„å„ç§å®ç°ï¼Œå› ä¸º Dubbo çš„è°ƒç”¨ä¼šç»è¿‡ä¸€ä¸ªè¿‡æ»¤å™¨é“¾ã€‚å“ªäº› Filter å®ç°ç±»è¢«åŒ…å«åœ¨è°ƒç”¨é“¾ä¸­ï¼Œæ˜¯é€šè¿‡å„ç§Filterå®ç°ç±»çš„ Activate æ³¨è§£æ¥æ§åˆ¶çš„ã€‚åŒ…æ‹¬ä¸Šé¢è¯´çš„æ’åºï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºè¿‡æ»¤å™¨é“¾ä¸­å„ä¸ª Filter çš„å‰åé¡ºåºã€‚è¿™é‡Œçš„é¡ºåºéœ€è¦æ³¨æ„ä¸€ä¸ªåœ°æ–¹ï¼Œå³æ’åºå‡æ˜¯å¯¹æ¡†æ¶æœ¬èº«å®ç°çš„æ‰©å±•è¿›è¡Œæ’åºï¼Œç”¨æˆ·è‡ªå®šä¹‰çš„æ‰©å±•é»˜è®¤æ˜¯è¿½åŠ åœ¨åˆ—è¡¨åé¢ã€‚è¯´åˆ°è¿™é‡Œå…·ä½“ä¾‹å­ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dubbo:reference</span> <span class="attr">id</span>=<span class="string">â€fooRefâ€</span> <span class="attr">interface</span>=<span class="string">â€com.foo.Fooâ€</span> <span class="attr">filter</span>=<span class="string">â€A,B,Câ€/</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å‡è®¾ä¸Šé¢æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ¶ˆè´¹ç«¯æœåŠ¡å¼•ç”¨ï¼Œå…¶ä¸­é…ç½®äº†ä¸€ä¸ª filter å±æ€§ï¼Œå¹¶ä¸”é€šè¿‡é€—å·éš”å¼€é…ç½®äº†ä¸‰ä¸ªè¿‡æ»¤å™¨ A,B,Cï¼ˆA,B,C å‡ä¸º Filter å®ç°çš„åˆ«åï¼‰ï¼Œé‚£ä¹ˆå¯¹äºæ¥å£ Foo è°ƒç”¨çš„è¿‡æ»¤å™¨é“¾æ˜¯æ€ä¹ˆæ ·çš„å‘¢ï¼Ÿé¦–å…ˆ Dubbo ä¼šåŠ è½½é»˜è®¤çš„è¿‡æ»¤å™¨ï¼ˆä¸€èˆ¬æ¶ˆè´¹ç«¯æœ‰ä¸‰ä¸ª ConsumerContextFilter,MonitorFilter,FutureFilterï¼‰ï¼Œå¹¶ä¸”å¯¹è¿™äº›é»˜è®¤çš„è¿‡æ»¤å™¨å®ç°è¿›è¡Œæ’åºï¼ˆActivateComparator å®ç°æ’åºé€»è¾‘ï¼‰ï¼Œè¿™å†™é»˜è®¤è¿‡æ»¤å™¨å®ç°ä¼šåœ¨è¿‡æ»¤å™¨é“¾çš„å‰é¢ï¼Œåé¢ç´§æ¥ç€çš„æ‰æ˜¯ Aï¼ŒBï¼ŒC ä¸‰ä¸ªè‡ªå®šä¹‰è¿‡æ»¤å™¨ã€‚</p>
<h2 id="ExtensionLoader-çš„-adaptive-æ¨¡å—"><a href="#ExtensionLoader-çš„-adaptive-æ¨¡å—" class="headerlink" title="ExtensionLoader çš„ adaptive æ¨¡å—"></a>ExtensionLoader çš„ adaptive æ¨¡å—</h2><p>ä¸Šé¢ä»‹ç»äº† activate extension,ä¸‹é¢ä»‹ç» ExtensionLoader å¦ä¸€ä¸ªé‡è¦æ¨¡å— adaptive extensionã€‚Dubbo æ¡†æ¶æä¾›çš„å„ç§æ¥å£å‡æœ‰å¾ˆå¤šç§ç±»çš„å®ç°ï¼Œåœ¨å¼•ç”¨å…·ä½“å®ç°çš„æ—¶å€™ä¸å¯èƒ½é€šè¿‡ç¡¬ç¼–ç åˆ¶å®šå¼•ç”¨å“ªä¸ªå®ç°ï¼Œè¿™æ ·æ•´ä¸ªæ¡†æ¶çš„çµæ´»æ€§ä¸¥é‡é™ä½ã€‚æ‰€ä»¥ä¸ºäº†èƒ½å¤Ÿé€‚é…ä¸€ä¸ªæ¥å£çš„å„ç§å®ç°ï¼Œä¾¿æœ‰äº† adaptive extension è¿™ä¸€è¯´ã€‚å¯¹ä¸€ä¸ªæ¥å£å®ç°çš„é€‚é…å™¨ Dubbo æä¾›ä¸¤ç§é€”å¾„ï¼Œç¬¬ä¸€ç§é€”å¾„æ˜¯æ‰‹åŠ¨å¯¹æŸä¸ªæ¥å£å®ç°å¯¹åº”çš„é€‚é…å™¨ï¼Œç¬¬äºŒç§æ˜¯ Dubbo æ¡†æ¶åŠ¨æ€ç”Ÿæˆé€‚é…å™¨ç±»ã€‚å…ˆå¯¹ç¬¬ä¸€ç§é€”å¾„è¿›è¡Œä»‹ç»ï¼Œè¿™ç§é€”å¾„ä¹Ÿæœ€å¥½ç†è§£ï¼Œå¯¹äºè¿™ç§é€”å¾„ Dubbo ä¹Ÿæä¾›äº†ä¸€ä¸ªæ³¨è§£ Adaptiveï¼Œä»–ç”¨æ¥æ ‡æ³¨åœ¨æ¥å£çš„æŸä¸ªå®ç°ä¸Šï¼Œè¡¨ç¤ºè¿™ä¸ªå®ç°å¹¶ä¸æ˜¯æä¾›å…·ä½“ä¸šåŠ¡æ”¯æŒï¼Œè€Œæ˜¯ä½œä¸ºè¯¥æ¥å£çš„é€‚é…å™¨ã€‚æ¯”å¦‚ ExtensionFactory çš„å®ç°ç±» AdaptiveExtensionFactory å°±æ˜¯å®ç°é€‚é…çš„åŠŸèƒ½ï¼Œè¿™ä¸ªç±»è¢«Adaptiveè¿›è¡Œäº†æ ‡æ³¨ï¼Œé‚£ä¹ˆåœ¨è°ƒç”¨ <code>ExtensionLoader.getExtensionLoader(ExtensionFactory.class).getAdaptiveExtension()</code> çš„æ—¶å€™å°†ä¼šè¿”å› AdaptiveExtensionFactory å®ä½“ï¼Œç”¨æ¥é€‚é… ExtensionFactory æ¥å£çš„ SPIExtensionFactory å’Œ SpringExtensionFactory ä¸¤ç§å®ç°ï¼Œåœ¨ AdaptiveExtensionFactory å°†ä¼šæ ¹æ®è¿è¡Œæ—¶çš„çŠ¶æ€æ¥ç¡®å®šå…·ä½“è°ƒç”¨ ExtensionFactory çš„å“ªä¸ªå®ç°ã€‚</p>
<p>è€Œç¬¬äºŒç§ç›¸å¯¹äºç¬¬ä¸€ç§æ¥è¯´å°±éšæ™¦ä¸€ç‚¹ï¼Œæ˜¯ ExtensionLoader é€šè¿‡åˆ†ææ¥å£é…ç½®çš„ adaptive è§„åˆ™åŠ¨æ€ç”Ÿæˆ adaptive ç±»å¹¶ä¸”åŠ è½½åˆ° ClassLoader ä¸­ï¼Œä»è€Œæ¥å®ç°åŠ¨æ€é€‚é…ã€‚é…ç½® adaptive çš„è§„åˆ™ä¹Ÿæ˜¯é€šè¿‡ Adaptive æ³¨è§£æ¥è®¾ç½®ï¼Œè¯¥æ³¨è§£æœ‰ä¸€ä¸ª value å±æ€§ï¼Œé€šè¿‡è®¾ç½®è¿™ä¸ªå±æ€§ä¾¿å¯ä»¥è®¾ç½®è¯¥æ¥å£çš„ Adaptive çš„è§„åˆ™ï¼Œä¸Šé¢è¯´è¿‡æœåŠ¡è°ƒç”¨çš„æ‰€æœ‰æ•°æ®å‡å¯ä»¥ä» URL è·å–ï¼ˆDubbo çš„ URL æ€»çº¿æ¨¡å¼ï¼‰ï¼Œé‚£ä¹ˆéœ€è¦ Dubbo å¸®æˆ‘ä»¬åŠ¨æ€ç”Ÿæˆ adaptive çš„æ‰©å±•æ¥å£çš„æ–¹æ³•å…¥å‚å¿…é¡»åŒ…å« URLï¼Œè¿™æ ·æ‰èƒ½æ ¹æ®è¿è¡ŒçŠ¶æ€åŠ¨æ€é€‰æ‹©å…·ä½“å®ç°ã€‚è¿™é‡Œåˆ—ä¸¾ä¸€ä¸‹ Transporter æ¥å£ä¸­é…ç½® adaptive è§„åˆ™ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SPI(&quot;netty&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Transporter</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Bind a server.</span></span><br><span class="line"><span class="comment">     * </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> com.alibaba.dubbo.remoting.Transporters#bind(URL, Receiver, ChannelHandler)</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> url server url</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> handler</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> server</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> RemotingException </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Adaptive(&#123;Constants.SERVER_KEY, Constants.TRANSPORTER_KEY&#125;)</span></span><br><span class="line">    Server <span class="title function_">bind</span><span class="params">(URL url, ChannelHandler handler)</span> <span class="keyword">throws</span> RemotingException;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Connect to a server.</span></span><br><span class="line"><span class="comment">     * </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> com.alibaba.dubbo.remoting.Transporters#connect(URL, Receiver, ChannelListener)</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> url server url</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> handler</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> client</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> RemotingException </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Adaptive(&#123;Constants.CLIENT_KEY, Constants.TRANSPORTER_KEY&#125;)</span></span><br><span class="line">    Client <span class="title function_">connect</span><span class="params">(URL url, ChannelHandler handler)</span> <span class="keyword">throws</span> RemotingException;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Transporter æ¥å£æä¾›äº†ä¸¤ä¸ªæ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯ connectï¼ˆç”¨æ¥åˆ›å»ºå®¢æˆ·ç«¯è¿æ¥ï¼‰ï¼Œå¦ä¸€ä¸ªæ˜¯ bindï¼ˆç”¨æ¥ç»‘å®šæœåŠ¡ç«¯ç«¯å£æä¾›æœåŠ¡ï¼‰ï¼Œå¹¶ä¸”è¿™ä¸¤ä¸ªæ–¹æ³•ä¸Šé¢å‡é€šè¿‡ Adaptive æ³¨è§£é…ç½®äº† value å±æ€§ï¼Œbind é…ç½®çš„æ˜¯ server å’Œ transporterï¼Œconnect é…ç½®çš„æ˜¯ client å’Œ transporterã€‚é‚£ä¹ˆé…ç½®è¿™äº›å€¼æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿä¸‹é¢çœ‹çœ‹ ExtensionLoader æ ¹æ®è¿™äº›ç”Ÿæˆäº†ä»€ä¹ˆæ ·çš„ adaptive ä»£ç ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.alibaba.dubbo.common.extension.ExtensionLoader;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Transporter$Adpative</span> <span class="keyword">implements</span> <span class="title class_">com</span>.alibaba.dubbo.remoting.Transporter &#123;</span><br><span class="line">    <span class="keyword">public</span> com.alibaba.dubbo.remoting.Client <span class="title function_">connect</span><span class="params">(</span></span><br><span class="line"><span class="params">            com.alibaba.dubbo.common.URL arg0, com.alibaba.dubbo.remoting.ChannelHandler arg1)</span></span><br><span class="line">            <span class="keyword">throws</span> com.alibaba.dubbo.remoting.RemotingException &#123;</span><br><span class="line">        <span class="keyword">if</span> (arg0 == <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(<span class="string">&quot;url == null&quot;</span>);</span><br><span class="line">        com.alibaba.dubbo.common.<span class="type">URL</span> <span class="variable">url</span> <span class="operator">=</span> arg0;</span><br><span class="line">        <span class="type">String</span> <span class="variable">extName</span> <span class="operator">=</span> url.getParameter(<span class="string">&quot;client&quot;</span>, url.getParameter(<span class="string">&quot;transporter&quot;</span>, <span class="string">&quot;netty&quot;</span>));</span><br><span class="line">        <span class="keyword">if</span> (extName == <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalStateException</span>(<span class="string">&quot;Fail to get extension(com.alibaba.dubbo.remoting.Transporter) name from url(&quot;</span> + url.toString() + <span class="string">&quot;) use keys([client, transporter])&quot;</span>);</span><br><span class="line">        com.alibaba.dubbo.remoting.<span class="type">Transporter</span> <span class="variable">extension</span> <span class="operator">=</span> (com.alibaba.dubbo.remoting.Transporter) ExtensionLoader.getExtensionLoader</span><br><span class="line">                (com.alibaba.dubbo.remoting.Transporter.class).getExtension(extName);</span><br><span class="line">        <span class="keyword">return</span> extension.connect(arg0, arg1);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> com.alibaba.dubbo.remoting.Server <span class="title function_">bind</span><span class="params">(</span></span><br><span class="line"><span class="params">            com.alibaba.dubbo.common.URL arg0, com.alibaba.dubbo.remoting.ChannelHandler arg1)</span></span><br><span class="line">            <span class="keyword">throws</span> com.alibaba.dubbo.remoting.RemotingException &#123;</span><br><span class="line">        <span class="keyword">if</span> (arg0 == <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(<span class="string">&quot;url == null&quot;</span>);</span><br><span class="line">        com.alibaba.dubbo.common.<span class="type">URL</span> <span class="variable">url</span> <span class="operator">=</span> arg0;</span><br><span class="line">        <span class="type">String</span> <span class="variable">extName</span> <span class="operator">=</span> url.getParameter(<span class="string">&quot;server&quot;</span>, url.getParameter(<span class="string">&quot;transporter&quot;</span>, <span class="string">&quot;netty&quot;</span>));</span><br><span class="line">        <span class="keyword">if</span> (extName == <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalStateException</span>(<span class="string">&quot;Fail to get extension(com.alibaba.dubbo.remoting.Transporter) name from url(&quot;</span> + url.toString() + <span class="string">&quot;) use keys([server, transporter])&quot;</span>);</span><br><span class="line">        com.alibaba.dubbo.remoting.<span class="type">Transporter</span> <span class="variable">extension</span> <span class="operator">=</span> (com.alibaba.dubbo.remoting.Transporter) ExtensionLoader.getExtensionLoader</span><br><span class="line">                (com.alibaba.dubbo.remoting.Transporter.class).getExtension(extName);</span><br><span class="line">        <span class="keyword">return</span> extension.bind(arg0, arg1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢æ˜¯ ExtensionLoader è‡ªåŠ¨ç”Ÿæˆçš„ Transporter$Adpative ç±»ï¼Œå¹¶ä¸”å®ç°äº† Transporter æ¥å£ï¼Œä¸‹é¢æˆ‘ä»¬åˆ†åˆ«çœ‹çœ‹åœ¨å®ƒ connect å’Œ bind ä¸­åˆ†åˆ«åšäº†å“ªäº›é€»è¾‘ã€‚å…ˆçœ‹çœ‹ bind æ–¹æ³•ä»£ç æ®µï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> com.alibaba.dubbo.remoting.Server <span class="title function_">bind</span><span class="params">(</span></span><br><span class="line"><span class="params">        com.alibaba.dubbo.common.URL arg0, com.alibaba.dubbo.remoting.ChannelHandler arg1)</span></span><br><span class="line">        <span class="keyword">throws</span> com.alibaba.dubbo.remoting.RemotingException &#123;</span><br><span class="line">    <span class="keyword">if</span> (arg0 == <span class="literal">null</span>)</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(<span class="string">&quot;url == null&quot;</span>);</span><br><span class="line">    com.alibaba.dubbo.common.<span class="type">URL</span> <span class="variable">url</span> <span class="operator">=</span> arg0;</span><br><span class="line">    <span class="type">String</span> <span class="variable">extName</span> <span class="operator">=</span> url.getParameter(<span class="string">&quot;server&quot;</span>, url.getParameter(<span class="string">&quot;transporter&quot;</span>, <span class="string">&quot;netty&quot;</span>));</span><br><span class="line">    <span class="keyword">if</span> (extName == <span class="literal">null</span>)</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalStateException</span>(<span class="string">&quot;Fail to get extension(com.alibaba.dubbo.remoting.Transporter) name from url(&quot;</span> + url.toString() + <span class="string">&quot;) use keys([server, transporter])&quot;</span>);</span><br><span class="line">    com.alibaba.dubbo.remoting.<span class="type">Transporter</span> <span class="variable">extension</span> <span class="operator">=</span> (com.alibaba.dubbo.remoting.Transporter) ExtensionLoader.getExtensionLoader</span><br><span class="line">            (com.alibaba.dubbo.remoting.Transporter.class).getExtension(extName);</span><br><span class="line">    <span class="keyword">return</span> extension.bind(arg0, arg1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°bindæ–¹æ³•å…ˆå¯¹ url å‚æ•°(arg0)è¿›è¡Œäº†éç©ºåˆ¤æ–­ï¼Œç„¶åä¾¿æ˜¯è°ƒç”¨ url.getParameter æ–¹æ³•ï¼Œé¦–å…ˆæ˜¯è·å– server å‚æ•°ï¼Œç„¶åå†è·å– transporter å‚æ•°ï¼Œæœ€åå¦‚æœä¸¤ä¸ªå‚æ•°å‡æ²¡æœ‰ï¼ŒextNameä¾¿æ˜¯nettyã€‚è·å–å®Œå‚æ•°ä¹‹åï¼Œç´§æ¥ç€å¯¹ extName è¿›è¡Œéç©ºåˆ¤æ–­ï¼Œæ¥ä¸‹æ¥ä¾¿æ˜¯è·å– Transporter çš„ ExtensionLoaderï¼Œæœ€åè·å–åˆ«åä¸º extName çš„ Transporter å®ç°ï¼Œå¹¶è°ƒç”¨å¯¹åº”çš„ bind æ¥è¿›è¡Œç»‘å®šæœåŠ¡ç«¯å£æ“ä½œã€‚connect ä¹Ÿæ˜¯ç±»ä¼¼ï¼Œåªæ˜¯å®ƒé¦–å…ˆæ˜¯ä» url ä¸­è·å– client å‚æ•°ï¼Œå†è·å– transporter å‚æ•°ï¼ŒåŒæ ·çš„å¦‚æœæœ€åä¸¤ä¸ªå‚æ•°éƒ½æ²¡æœ‰ï¼Œé‚£ä¹ˆ extName ä¹Ÿæ˜¯ nettyï¼Œæœ€ç»ˆä¹Ÿæ˜¯ä¾æ® extName è·å–å¯¹å·²çš„æ¥å£æ‰©å±•å®ç°ï¼Œè°ƒç”¨ connect æ–¹æ³•ã€‚</p>
<p>åˆ°è¿™é‡Œæˆ–è®¸ä½ å·²ç»æ˜ç™½äº† ExtensionLoader æ˜¯æ€ä¹ˆåŠ¨æ€ç”Ÿæˆ adaptive,ä¸Šé¢ä» url ä¸­è·å– serverï¼Œ client è¿˜æ˜¯ transporter å‚æ•°å‡æ˜¯åœ¨ Transporter æ¥å£çš„æ–¹æ³•é€šè¿‡ Adaptive æ³¨è§£é…ç½®çš„ value å±æ€§æ‰€å†³å®šã€‚å…¶ä¸­ netty æ˜¯é€šè¿‡æ³¨è§£ SPI åˆ¶å®šå½“å‰æ¥å£çš„ä¸€ç§é»˜è®¤å®ç°ã€‚è¿™ä¾¿æ˜¯ Dubbo é€šè¿‡ ExtensionLoader åŠ¨æ€ç”Ÿæˆ adaptive ç±»æ¥åŠ¨æ€é€‚é…æ¥å£çš„æ‰€æœ‰å®ç°ã€‚</p>
<p>ä¸Šé¢å¯¹ activate å’Œ adaptive è¿›è¡Œäº†è¯¦ç»†çš„ä»‹ç»ï¼Œè¿™ä¸¤éƒ¨åˆ†å¯¹åº” ExtensionLoader çš„å®ç°åˆ†åˆ«æ˜¯æ–¹æ³• getActivateExtension(URL url, String[] values, String group) å’ŒcreateAdaptiveExtensionClassCode()ï¼Œå¦‚æœæ„Ÿå…´è¶£ï¼Œå¯ä»¥å»æŸ¥çœ‹ ExtensionLoader æºç ã€‚æ¥ä¸‹æ¥å¯¹get extension by name å’Œ default extension ä»‹ç»ä¸€ä¸‹ï¼Œget extension by name è¿™ä¸ªæ²¡ä»€ä¹ˆå¥½ä»‹ç»çš„ï¼Œå°±æ˜¯é€šè¿‡æ¥å£å®ç°çš„åˆ«åæ¥è·å–æŸä¸€ä¸ªå…·ä½“çš„æœåŠ¡ã€‚è€Œ default extension éœ€è¦åšä¸€ä¸‹è¯¦ç»†ä»‹ç»ï¼ŒDubbo çš„ SPI è§„èŒƒé™¤äº†ä¸Šé¢è¯´çš„åœ¨åˆ¶å®šæ–‡ä»¶å¤¹ä¸‹é¢æè¿°æœåŠ¡çš„å®ç°ä¿¡æ¯ä¹‹å¤–ï¼Œåœ¨è¢«å®ç°çš„æ¥å£å¿…é¡»æ ‡æ³¨ SPI æ³¨è§£ï¼Œç”¨æ¥å‘Šè¯‰ Dubbo è¿™ä¸ªæ¥å£æ˜¯é€šè¿‡ SPI æ¥è¿›è¡Œæ‰©å±•å®ç°çš„ï¼Œå¦åˆ™ ExtensionLoader åˆ™ä¸ä¼šå¯¹è¿™ä¸ªæ¥å£åˆ›å»º ExtensionLoader å®ä½“ï¼Œå¹¶ä¸”è°ƒç”¨ ExtensionLoader.getExtensionLoader æ–¹æ³•ä¼šå‡ºç° IllegalArgumentException å¼‚å¸¸ã€‚é‚£è¯´è¿™äº›å’Œé»˜è®¤æ‰©å±•å®ç°æœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿåœ¨æ¥å£ä¸Šæ ‡æ³¨ SPI æ³¨è§£çš„æ—¶å€™å¯ä»¥é…ç½®ä¸€ä¸ª value å±æ€§ç”¨æ¥æè¿°è¿™ä¸ªæ¥å£çš„é»˜è®¤å®ç°åˆ«åï¼Œä¾‹å¦‚ä¸Šé¢ Transporter çš„ @SPI(â€œnettyâ€)å°±æ˜¯æŒ‡å®š Transporter é»˜è®¤å®ç°æ˜¯ NettyTransporterï¼Œå› ä¸º NettyTransporter çš„åˆ«åæ˜¯ nettyã€‚è¿™é‡Œå†å¯¹æœåŠ¡åˆ«åè¡¥å……æœ‰ç‚¹ï¼Œåˆ«åæ˜¯ç«™åœ¨æŸä¸€ä¸ªæ¥å£çš„ç»´åº¦æ¥åŒºåˆ†ä¸åŒå®ç°çš„ï¼Œæ‰€ä»¥ä¸€ä¸ªæ¥å£çš„å®ç°ä¸èƒ½æœ‰ç›¸åŒçš„åˆ«åï¼Œå¦åˆ™ Dubbo æ¡†æ¶å°†å¯åŠ¨å¤±è´¥ï¼Œå½“ç„¶ä¸åŒæ¥å£çš„å„è‡ªå®ç°åˆ«åå¯ä»¥ç›¸åŒã€‚åˆ°æ­¤ ExtensionLoader çš„å®ç°åŸåˆ™å’ŒåŸºæœ¬åŸç†ä»‹ç»å®Œäº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹çœ‹æ€ä¹ˆåŸºäº Dubbo çš„ ExtensionLoader æ¥å®æ–½æˆ‘ä»¬è‡ªå·±çš„æ’ä»¶åŒ–ã€‚</p>
<h2 id="æµ‹è¯•-ExtensionLoader-çš„åŠ¨æ€åŠ è½½æœºåˆ¶"><a href="#æµ‹è¯•-ExtensionLoader-çš„åŠ¨æ€åŠ è½½æœºåˆ¶" class="headerlink" title="æµ‹è¯• ExtensionLoader çš„åŠ¨æ€åŠ è½½æœºåˆ¶"></a>æµ‹è¯• ExtensionLoader çš„åŠ¨æ€åŠ è½½æœºåˆ¶</h2><p>æ’ä»¶åŒ–çš„ç¬¬ä¸€æ­¥æ˜¯æŠ½è±¡ä¸€ä¸ªæ¥å£ï¼Œä»å®šä¹‰äº†æ’ä»¶çš„è§„èŒƒï¼Œé‚£ä¹ˆæˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ª IHelloService æ¥å£ï¼Œå¹¶ä¸”æ ‡æ³¨äº† SPI æ³¨è§£ï¼ŒåŒæ—¶æŒ‡å®šé»˜è®¤å®ç°æ˜¯åˆ«åä¸º default çš„æ‰©å±•å®ç°ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SPI(&quot;default&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">IHelloService</span> &#123;</span><br><span class="line">    <span class="meta">@Adaptive</span></span><br><span class="line">    String <span class="title function_">sayHello</span><span class="params">(URL url, String msg, ExtentionType type)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆæ¥ä¸‹æ¥å°±æ˜¯å¯¹è¿™ä¸ªæ’ä»¶æ¥å£æä¾›ä¸åŒçš„å®ç°ï¼Œéœ€è¦æˆ‘è‡ªå·±æ¥å®ç°ä¸€ä¸ªé€‚é…ç±»ã€‚é€‚é…ç±»å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Adaptive</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloServiceAdaptor</span> <span class="keyword">implements</span> <span class="title class_">IHelloService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">sayHello</span><span class="params">(URL url, String msg, ExtentionType type)</span> &#123;</span><br><span class="line">        <span class="type">ExtensionLoader</span> <span class="variable">extensionLoader</span> <span class="operator">=</span> ExtensionLoader.getExtensionLoader(IHelloService.class);</span><br><span class="line">        <span class="type">IHelloService</span> <span class="variable">extension</span> <span class="operator">=</span> (IHelloService) extensionLoader.getDefaultExtension();</span><br><span class="line">        <span class="keyword">switch</span> (type) &#123;</span><br><span class="line">            <span class="keyword">case</span> DEFAULT:</span><br><span class="line">                extension = (IHelloService) extensionLoader.getExtension(<span class="string">&quot;default&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> OTHER:</span><br><span class="line">                extension = (IHelloService) extensionLoader.getExtension(<span class="string">&quot;other&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> extension.sayHello(url, msg, type);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç›¸åº”ç±» ExtentionType æšä¸¾ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">ExtentionType</span> &#123;</span><br><span class="line">    DEFAULT,</span><br><span class="line">    OTHER</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯è§åœ¨ AdaptiveExtension ä¸­å°†ä¼šæ ¹æ® ExtensionType åˆ†å‘æ‰©å±•çš„å…·ä½“å®ç°ï¼Œå¹¶è§¦å‘ sayHello æ–¹æ³•ã€‚ç„¶åå†å¯¹ IHelloService æ¥å£æä¾›äº†ä¸¤ç§å®ç°ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DefaultHelloImpl</span> <span class="keyword">implements</span> <span class="title class_">IHelloService</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">sayHello</span><span class="params">(URL url, String msg, ExtentionType type)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;default say &quot;</span> + msg;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OtherHelloImpl</span> <span class="keyword">implements</span> <span class="title class_">IHelloService</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">sayHello</span><span class="params">(URL url, String msg, ExtentionType type)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;other say &quot;</span> + msg;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¹¶ä¸”åœ¨ META-INF&#x2F;dubbo ä¸‹é¢åˆ›å»ºäº†æ–‡ä»¶ com.bieber.dubbo.extension.IHelloService å…¶ä¸­å†…å®¹å¦‚ä¸‹ï¼ˆæ³¨æ„è¦å°† META-INF ç›®å½•ç½®äº resources èµ„æºè·¯å¾„ä¸‹ï¼‰ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">default</span>=com.aprilyolies.extension.DefaultHelloImpl</span><br><span class="line">other=com.aprilyolies.extension.OtherHelloImpl</span><br><span class="line">adaptive=com.aprilyolies.extension.HelloServiceAdaptor</span><br></pre></td></tr></table></figure>

<p>æœ€åæ˜¯ä¸€ä¸ªå¯åŠ¨ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">App</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ExtensionLoader</span> <span class="variable">extensionLoader</span> <span class="operator">=</span> ExtensionLoader.getExtensionLoader(IHelloService.class);</span><br><span class="line">        <span class="type">IHelloService</span> <span class="variable">extension</span> <span class="operator">=</span> (IHelloService) extensionLoader.getAdaptiveExtension();</span><br><span class="line">        System.out.println(extension.sayHello(<span class="keyword">new</span> <span class="title class_">URL</span>(<span class="string">&quot;dubbo&quot;</span>, <span class="string">&quot;127.0.0.1&quot;</span>, <span class="number">1234</span>), <span class="string">&quot;hello&quot;</span>, ExtentionType.OTHER));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å…³äº Dubbo æ’ä»¶åŒ–çš„å†…å®¹ä»‹ç»å®Œäº†ï¼Œå…¶å®å¯ä»¥æŠŠ ExtensionLoader å½“ä½œæ˜¯ Spring çš„ IOC å®¹å™¨ï¼Œåªä¸è¿‡ IOC å®¹å™¨é‡Œé¢åšçš„äº‹æƒ…æ˜¯å¸®æˆ‘ä»¬åˆå§‹åŒ–å’Œç®¡ç† beanï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®æˆ‘ä»¬éœ€è¦çš„ bean ç±»å‹æˆ–è€… bean çš„ id æ¥è·å–å¯¹åº”çš„ bean å®ä½“ï¼ŒDubbo é‡Œé¢ ExtensionLoader ç±»çš„ä½œç”¨æ¯”è¾ƒç›¸ä¼¼ï¼Œåªä¸è¿‡å®ƒç®¡ç†çš„æ˜¯æ’ä»¶ï¼ŒåŒæ ·æˆ‘ä»¬å¯ä»¥æ ¹æ®å…·ä½“æ’ä»¶å®ç°åˆ«åå’Œæ’ä»¶æ¥å£æ¥è·å–æˆ‘ä»¬æƒ³è¦çš„æ’ä»¶å®ç°ã€‚å¦ä¸€ä¸ªä¸åŒç‚¹æ˜¯ Spring æ˜¯é€šè¿‡ XML çš„æ–¹å¼å‘Šè¯‰ Spring æˆ‘çš„ bean çš„å®ç°ç±»å…¨è·¯å¾„ï¼Œè€Œ Dubbo åˆ™æ˜¯é€šè¿‡ SPI çš„æ–¹å¼å‘Šè¯‰ ExtensionLoader å…·ä½“å®ç°ç±»ä¿¡æ¯ã€‚å¦‚æœä½ ç†è§£äº†è¿™ä¸ªï¼Œé‚£ä¹ˆä½ å°±ç†è§£ ExtensionLoader äº†ã€‚</p>

        </div>

        

        
            <ul class="post-tags-box">
                
                    <li class="tag-item">
                        <a href="/tags/Dubbo/">#Dubbo</a>&nbsp;
                    </li>
                
            </ul>
        

        
            <div class="article-nav">
                
                    <div class="article-prev">
                        <a class="prev"
                           rel="prev"
                           href="/2019/05/13/2019-05-13-Spring%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%AE%9A%E4%B9%89%E5%90%8D%E7%A7%B0%E7%A9%BA%E9%97%B4%E7%9A%84%E8%A7%A3%E6%9E%90/"
                        >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                            <span class="title flex-center">
                                <span class="post-nav-title-item">Springå¦‚ä½•å®ç°è‡ªå®šä¹‰åç§°ç©ºé—´çš„è§£æ</span>
                                <span class="post-nav-item">ä¸Šä¸€ç¯‡</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next">
                        <a class="next"
                           rel="next"
                           href="/2019/05/11/2019-05-11-PropertyDescriptor%E7%B1%BB%E7%9A%84%E4%BD%BF%E7%94%A8%E5%8F%8A%E5%85%B6%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B%E7%9A%84%E5%88%86%E6%9E%90/"
                        >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">PropertyDescriptorç±»çš„ä½¿ç”¨åŠå…¶æ‰§è¡Œè¿‡ç¨‹çš„åˆ†æ</span>
                                <span class="post-nav-item">ä¸‹ä¸€ç¯‡</span>
                            </span>
                            <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        

        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
              <span>2020</span>
              -
            
            2022&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">å°æ©˜å­ğŸŠ</a>
        </div>
        
        <div class="theme-info info-item">
            ç”± <a target="_blank" href="https://hexo.io">Hexo</a> é©±åŠ¨&nbsp;|&nbsp;ä¸»é¢˜&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.4.5</a>
        </div>
        
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item page-aside-toggle">
                <i class="fas fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-expand-width flex-center">
            <i class="fas fa-arrows-alt-h"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="fas fa-arrow-up"></i>
            </li>
        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
    </ul>
</div>

    </div>

    
        <aside class="page-aside">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E8%A8%80"><span class="nav-text">å‰è¨€</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SPI-%E4%B8%8E-Dubbo"><span class="nav-text">SPI ä¸ Dubbo</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ExtensionLoader-%E7%9A%84-activate-%E6%A8%A1%E5%9D%97"><span class="nav-text">ExtensionLoader çš„ activate æ¨¡å—</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ExtensionLoader-%E7%9A%84-adaptive-%E6%A8%A1%E5%9D%97"><span class="nav-text">ExtensionLoader çš„ adaptive æ¨¡å—</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95-ExtensionLoader-%E7%9A%84%E5%8A%A8%E6%80%81%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6"><span class="nav-text">æµ‹è¯• ExtensionLoader çš„åŠ¨æ€åŠ è½½æœºåˆ¶</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-text">æ€»ç»“</span></a></li></ol>
    </div>
</div>
        </aside>
    

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="æœç´¢..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>




<script src="/js/utils.js"></script>

<script src="/js/main.js"></script>

<script src="/js/header-shrink.js"></script>

<script src="/js/back2top.js"></script>

<script src="/js/dark-light-toggle.js"></script>



    
<script src="/js/local-search.js"></script>




    
<script src="/js/code-copy.js"></script>





<div class="post-scripts">
    
        
<script src="/js/left-side-toggle.js"></script>

<script src="/js/libs/anime.min.js"></script>

<script src="/js/toc.js"></script>

    
</div>



</body>
</html>
